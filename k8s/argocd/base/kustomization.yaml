apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: argocd
resources:
- https://raw.githubusercontent.com/argoproj/argo-cd/v2.2.5/manifests/install.yaml
# the applicationset controller will be bundled with argocd 2.3, safe to remove the below once it's in
- https://raw.githubusercontent.com/argoproj-labs/applicationset/v0.3.0/manifests/install.yaml
- clusterrolebinding.yaml
- namespace.yaml
- serviceaccount.yaml
patchesStrategicMerge:
# make sure to update argocd-repo-server-deploy.yaml if you bump the veresion below
- https://raw.githubusercontent.com/argoproj-labs/argocd-vault-plugin/v1.8.0/manifests/argocd-cm.yaml
- argocd-dex-server-run-on-amd64-patch.yaml
- argocd-repo-server-deploy.yaml
- argocd-server-run-on-amd64-patch.yaml
- disable-tls-patch.yaml
